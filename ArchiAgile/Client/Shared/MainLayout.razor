@inherits LayoutComponentBase

@if (Theme != "material.css")
{
    <link href="_content/Radzen.Blazor/css/@(Theme)" rel="stylesheet" />
}

<RadzenDialog />
<RadzenNotification />
<RadzenTooltip />
<RadzenContextMenu />

<RadzenLayout>
    <RadzenHeader>
        <ChildContent>
            <div class="row justify-content-start align-items-center">
                <div class="col-5 d-flex align-items-center">
                    <RadzenSidebarToggle Click="@(args => { sidebarExpanded = !sidebarExpanded; bodyExpanded = !bodyExpanded; })">
                    </RadzenSidebarToggle>
                    <RadzenLabel Text="Archi Agile Portal">
                    </RadzenLabel>
                </div>
                <div class="col-7 d-flex align-items-center justify-content-end">
                    <RadzenProfileMenu Click="ProfileMenuClick">
                        <ChildContent>
                            <RadzenProfileMenuItem Path="profile" Icon="settings" Text="Profile">
                            </RadzenProfileMenuItem>
                            <RadzenProfileMenuItem Path="login" Text="Logout" Value="Logout" Icon="power_settings_new">
                            </RadzenProfileMenuItem>
                        </ChildContent>
                        <Template>
                            <RadzenLabel Text="@user.Name">
                            </RadzenLabel>
                            <RadzenLabel Text="@user.Surname">
                            </RadzenLabel>
                            <RadzenImage Path="@user.Image" style="border-radius: 16px; height: 32px; width: 32px">
                            </RadzenImage>
                        </Template>
                    </RadzenProfileMenu>
                </div>
            </div>
        </ChildContent>
    </RadzenHeader>
    <RadzenBody @ref="@body0" @bind-Expanded="@bodyExpanded">
        <ChildContent>
            <RadzenContentContainer Name="main">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12 pt-4 pb-5 px-3 px-lg-5">
                            @Body
                        </div>
                    </div>
                </div>
            </RadzenContentContainer>
        </ChildContent>
    </RadzenBody>
    <RadzenSidebar @ref="@sidebar0" @bind-Expanded="@sidebarExpanded">
        <ChildContent>
            <div style="padding: 1rem">
            </div>
            <RadzenPanelMenu>
                <AuthorizeView Roles="Admin">
                    <RadzenPanelMenuItem Text="Users" Path="user" Icon="people" />
                    <RadzenPanelMenuItem Text="Personnel" Path="personnel" Icon="groups" />
                </AuthorizeView>                
                <RadzenPanelMenuItem Text="Journal" Path="journal" Icon="description" />
            </RadzenPanelMenu>
        </ChildContent>
    </RadzenSidebar>
    <RadzenFooter>
        <ChildContent>
            <RadzenLabel Text="Archi Agile Portal, Copyright Ⓒ 2023">
            </RadzenLabel>
        </ChildContent>
    </RadzenFooter>
</RadzenLayout>
